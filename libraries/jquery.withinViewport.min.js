(function(){var e=function(n,r){var i=false,s={},o={},u,a,f,l,c,h,p,d;if(typeof jQuery!=="undefined"&&n instanceof jQuery){n=n.get(0)}if(typeof n!=="object"||n.nodeType!==1){throw new Error("First argument must be an element")}if(n.getAttribute("data-withinviewport-settings")&&window.JSON){s=JSON.parse(n.getAttribute("data-withinviewport-settings"))}if(typeof r==="string"){u={sides:r}}else{u=r||{}}o.container=u.container||s.container||e.defaults.container||document.body;o.sides=u.sides||s.sides||e.defaults.sides||"all";o.top=u.top||s.top||e.defaults.top||0;o.right=u.right||s.right||e.defaults.right||0;o.bottom=u.bottom||s.bottom||e.defaults.bottom||0;o.left=u.left||s.left||e.defaults.left||0;a=!/Chrome/.test(navigator.userAgent);f={top:function(){return c[1]>=l[1]+o.top},right:function(){var t=o.container===document.body?window:o.container;return c[0]+n.offsetWidth<=t.innerWidth+l[0]-o.right},bottom:function(){var t=o.container===document.body?window:o.container;return c[1]+n.offsetHeight<=l[1]+t.innerHeight-o.bottom},left:function(){return c[0]>=l[0]+o.left},all:function(){return f.top()&&f.right()&&f.bottom()&&f.left()}};l=function(){var t=o.container.scrollLeft,n=o.container.scrollTop;if(n===0){if(o.container.pageYOffset){n=o.container.pageYOffset}else if(window.pageYOffset){n=window.pageYOffset}else{if(o.container===document.body){if(a){n=o.container.parentElement?o.container.parentElement.scrollTop:0}else{n=o.container.parentElement?o.container.parentElement.scrollTop:0}}else{n=o.container.parentElement?o.container.parentElement.scrollTop:0}}}if(t===0){if(o.container.pageXOffset){t=o.container.pageXOffset}else if(window.pageXOffset){t=window.pageXOffset}else{if(o.container===document.body){t=o.container.parentElement?o.container.parentElement.scrollLeft:0}else{t=o.container.parentElement?o.container.parentElement.scrollLeft:0}}}return[t,n]}();c=function(){var t=n,r=0,i=0;if(t.parentNode){r=t.offsetLeft;i=t.offsetTop;t=t.parentNode;while(t){if(t==o.container){break}r+=t.offsetLeft;i+=t.offsetTop;t=t.parentNode}}return[r,i]}();h=o.sides.split(" ");p=h.length;while(p--){d=h[p].toLowerCase();if(/top|right|bottom|left|all/.test(d)){if(f[d]()){i=true}else{i=false;break}}}return i};e.prototype.defaults={container:document.body,sides:"all",top:0,right:0,bottom:0,left:0};e.defaults=e.prototype.defaults;window.withinViewport=e;e.prototype.top=function(n){return e(n,"top")};e.prototype.right=function(n){return e(n,"right")};e.prototype.bottom=function(n){return e(n,"bottom")};e.prototype.left=function(n){return e(n,"left")}})();(function(e){e.fn.withinViewport=function(t){if(typeof t==="string"){t={sides:t}}var n=e.extend({},t,{sides:"all"}),r=[];this.each(function(){if(withinViewport(this,n)){r.push(this)}});return e(r)};e.extend(e.expr[":"],{"within-viewport":function(e){return withinViewport(e,"all")}});e.fn.withinViewportTop=function(t){var n;if(typeof t==="string"){t={sides:t}}n=e.extend({},t,{sides:"top"}),elems=[];this.each(function(){if(withinViewport(this,n)){elems.push(this)}});return e(elems)};e.fn.withinViewportRight=function(t){var n;if(typeof t==="string"){t={sides:t}}n=e.extend({},t,{sides:"right"}),elems=[];this.each(function(){if(withinViewport(this,n)){elems.push(this)}});return e(elems)};e.fn.withinViewportBottom=function(t){var n;if(typeof t==="string"){t={sides:t}}n=e.extend({},t,{sides:"bottom"}),elems=[];this.each(function(){if(withinViewport(this,n)){elems.push(this)}});return e(elems)};e.fn.withinViewportLeft=function(t){var n;if(typeof t==="string"){t={sides:t}}n=e.extend({},t,{sides:"left"}),elems=[];this.each(function(){if(withinViewport(this,n)){elems.push(this)}});return e(elems)};e.extend(e.expr[":"],{"within-viewport-top":function(e){return withinViewport(e,"top")},"within-viewport-right":function(e){return withinViewport(e,"right")},"within-viewport-bottom":function(e){return withinViewport(e,"bottom")},"within-viewport-left":function(e){return withinViewport(e,"left")}})})(jQuery)